<div class="na-table">
    <div class="na-table-container">
        <div class="na-table-header">
            <h1 [class]="config.getTitleStyle() ? config.getTitleStyle() : 'title'">{{config.getTitle()}}</h1>
        </div>
        <div class="na-table-content" [class.has-top]="config.getTitle()" [class.has-bottom]="config.getMultiSelectActions().length > 0 && !!anyoneSelected || config.getNormalActions().length > 0 ">
            <table class="table is-striped">
                <thead>
                    <tr>
                        <th *ngIf="config.isNeedMultiSelect()">
                            <input type="checkbox" class="is-checkradio" [(ngModel)]="selectAll">
                            <label (click)="onSelectAllChange()"></label>
                        </th>
                        <th *ngIf="config.isNeedShowIndex()">{{config.getIndexText()}}</th>
                        <th *ngFor="let configItem of config.getConfig()"> {{configItem.label}} </th>
                        <th *ngFor="let action of config.getSingleSelectActions()"> </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let dataItem of _data;let index = index">
                        <th *ngIf="config.isNeedMultiSelect()">
                            <input type="checkbox" class="is-checkradio" [(ngModel)]="dataItem.__checked">
                            <label (click)="onSelectChange(index)"></label>
                        </th>
                        <th *ngIf="config.isNeedShowIndex()">{{index + 1}}</th>
                        <td *ngFor="let configItem of config.getConfig()">
                            {{configItem.pipe ? call(configItem.pipe, dataItem[configItem.name]) : dataItem[configItem.name]}}
                        </td>
                        <td *ngFor="let action of config.getSingleSelectActions()">
                            <a [class]="action.btnStyleCss ? 'button is-small ' + action.btnStyleCss : 'button is-small'" (click)="call(action, index)">
                                <span class="icon is-small" *ngIf="action.btnIcon">
                                            <i [class]="action.btnIcon"></i>
                                        </span>
                                <span>{{action.btnText}}</span>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="na-table-footer" *ngIf="config.getMultiSelectActions().length > 0  && !!anyoneSelected || config.getNormalActions().length > 0">
            <div class="field is-grouped" *ngIf="config.getMultiSelectActions().length > 0 && !!anyoneSelected">
                <p class="control" *ngFor="let action of config.getMultiSelectActions()">
                    <a [class]="action.btnStyleCss ? 'button ' + action.btnStyleCss : 'button'" (click)="callMulti(action)">
                        <span class="icon is-small" *ngIf="action.btnIcon">
                            <i [class]="action.btnIcon"></i>
                        </span>
                        <span>{{action.btnText}}</span>
                    </a>
                </p>
            </div>
            <div class="field is-grouped" *ngIf="config.getNormalActions().length > 0 && !anyoneSelected">
                <p class="control" *ngFor="let action of config.getNormalActions()">
                    <a [class]="action.btnStyleCss ? 'button ' + action.btnStyleCss : 'button'" (click)="call(action)">
                        <span class="icon is-small" *ngIf="action.btnIcon">
                                    <i [class]="action.btnIcon"></i>
                                </span>
                        <span>{{action.btnText}}</span>
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>